{% extends 'veille/base.html' %}

{% block content %}

<div class="container py-4">

    <h2 class="mb-3 text-primary text-center">Veille par mots-cl√©s (Fuzzy Search)</h2>
    <p class="text-muted text-center">
        Entrez des mots-cl√©s. D√®s qu‚Äôune d√©cision judiciaire contient l‚Äôun d‚Äôeux, une alerte est cr√©√©e.
    </p>

    <!-- Formulaire centr√© -->
    <form method="POST" action="{% url 'veille_fuzzy' %}" class="mx-auto" style="max-width: 500px;">
        {% csrf_token %}

        <!-- ‚úÖ NOM DE LA VEILLE -->
        <div class="form-group mb-3">
            <label><strong>Nom de la veille</strong></label>
            <input type="text"
                name="veille_nom"
                class="form-control form-control-sm"
                placeholder="ex : Suivi proc√©dures Charleroi" style="max-width: 100%;">
        </div>

        <!-- ‚úÖ MOTS-CL√âS -->
        <div class="form-group mb-3">
            <label>Mot-cl√© n¬∞1</label>
            <input type="text" name="keyword1" class="form-control form-control-sm"
                   value="{{ profile.keyword1|default_if_none:'' }}" placeholder="ex : dissolution" style="max-width: 100%;">
        </div>

        <div class="form-group mb-3">
            <label>Mot-cl√© n¬∞2</label>
            <input type="text" name="keyword2" class="form-control form-control-sm"
                   value="{{ profile.keyword2|default_if_none:'' }}" placeholder="ex : faillite" style="max-width: 100%;">
        </div>

        <div class="form-group mb-3">
            <label>Mot-cl√© n¬∞3</label>
            <input type="text" name="keyword3" class="form-control form-control-sm"
                   value="{{ profile.keyword3 }}" placeholder="ex : curateur" style="max-width: 100%;">
        </div>

        <!-- Boutons c√¥te √† c√¥te avec plus de centrage -->
        <div class="d-flex justify-content-between mt-3">
            <!-- Bouton "Enregistrer mes mots-cl√©s" -->
            <button type="submit" id="submitButton"
                    class="btn btn-primary btn-sm"
style="background: linear-gradient(90deg, #ff0000, #ff4d4d); border: none; font-size: 1rem; width: 40%;">

                Enregistrer mes mots-cl√©s et cr√©er la veille
            </button>

            <!-- Lien pour configurer la veille -->
            <a href="{% url 'veille_fuzzy' %}" class="btn btn-success btn-sm" style="width: 40%;">
                Configurer ma veille TVA
            </a>
        </div>
        <div class="alert alert-info mt-3 text-center">
        üì¨ Les r√©sultats appara√Ætront automatiquement dans votre tableau de bord.
    </div>
    </form>



</div>

<!-- JavaScript pour afficher le "V" apr√®s le clic sur le bouton -->
<script>
    document.querySelector('form').addEventListener('submit', function(event) {
        var button = document.getElementById('submitButton');
        button.innerHTML = '‚úÖ Veille cr√©√©e avec succ√®s'; // Change le texte du bouton apr√®s le clic
        button.disabled = true; // D√©sactive le bouton pour √©viter plusieurs soumissions
    });
</script>

{% endblock %}
